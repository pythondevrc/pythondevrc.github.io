"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1440],{1440:(M,d,s)=>{s.r(d),s.d(d,{LoginModule:()=>v});var c=s(4755),a=s(5030),o=s(7151),l=s(6775),e=s(9523),h=s(2802);let p=(()=>{class t{constructor(n){this.storage=n,this.favorites=[],this.HAS_LOGGED_IN="hasLoggedIn",this.HAS_SEEN_TUTORIAL="hasSeenTutorial"}hasFavorite(n){return this.favorites.indexOf(n)>-1}addFavorite(n){this.favorites.push(n)}removeFavorite(n){const i=this.favorites.indexOf(n);i>-1&&this.favorites.splice(i,1)}login(n){return this.storage.set(this.HAS_LOGGED_IN,!0).then(()=>(this.setUsername(n),window.dispatchEvent(new CustomEvent("user:login"))))}signup(n){return this.storage.set(this.HAS_LOGGED_IN,!0).then(()=>(this.setUsername(n),window.dispatchEvent(new CustomEvent("user:signup"))))}logout(){return this.storage.remove(this.HAS_LOGGED_IN).then(()=>this.storage.remove("username")).then(()=>{window.dispatchEvent(new CustomEvent("user:logout"))})}setUsername(n){return this.storage.set("username",n)}getUsername(){return this.storage.get("username").then(n=>n)}isLoggedIn(){return this.storage.get(this.HAS_LOGGED_IN).then(n=>!0===n)}checkHasSeenTutorial(){return this.storage.get(this.HAS_SEEN_TUTORIAL).then(n=>n)}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(h.K))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const m=[{path:"",component:(()=>{class t{constructor(n,i){this.userData=n,this.router=i,this.login={username:"",password:""},this.submitted=!1}onLogin(n){this.submitted=!0,n.valid&&(this.userData.login(this.login.username),this.router.navigateByUrl("/app/tabs/map"))}onSignup(){this.router.navigateByUrl("/signup")}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(p),e.Y36(l.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["page-login"]],decls:23,vars:2,consts:[["slot","start"],[1,"login-logo"],["src","assets/img/appicon.svg","alt","Ionic logo"],[1,"login-form"],["novalidate",""],["loginForm","ngForm"],["label","Username","labelPlacement","stacked","fill","solid","name","username","type","text","spellcheck","false","autocapitalize","off","errorText","Username is required","required","",3,"ngModel","ngModelChange"],["username","ngModel"],["label","Password","labelPlacement","stacked","fill","solid","name","password","type","password","errorText","Password is required","required","",3,"ngModel","ngModelChange"],["password","ngModel"],["type","submit","expand","block",3,"click"],["color","light","expand","block",3,"click"]],template:function(n,i){if(1&n){const L=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-menu-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Login"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"div",1),e._UZ(8,"img",2),e.qZA(),e.TgZ(9,"div",3)(10,"form",4,5)(12,"ion-input",6,7),e.NdJ("ngModelChange",function(g){return i.login.username=g}),e.qZA(),e.TgZ(14,"ion-input",8,9),e.NdJ("ngModelChange",function(g){return i.login.password=g}),e.qZA(),e.TgZ(16,"ion-row")(17,"ion-col")(18,"ion-button",10),e.NdJ("click",function(){e.CHM(L);const g=e.MAs(11);return e.KtG(i.onLogin(g))}),e._uU(19,"Login"),e.qZA()(),e.TgZ(20,"ion-col")(21,"ion-button",11),e.NdJ("click",function(){return i.onSignup()}),e._uU(22,"Signup"),e.qZA()()()()()()}2&n&&(e.xp6(12),e.Q6J("ngModel",i.login.username),e.xp6(2),e.Q6J("ngModel",i.login.password))},dependencies:[a._Y,a.JJ,a.JL,a.Q7,a.On,a.F,o.YG,o.Sm,o.wI,o.W2,o.Gu,o.pK,o.fG,o.Nd,o.wd,o.sr,o.j9],styles:[".login-logo[_ngcontent-%COMP%]{min-height:200px;padding:20px 0;text-align:center}.login-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:150px}.login-form[_ngcontent-%COMP%]{padding:16px}ion-input[_ngcontent-%COMP%]{margin-bottom:10px}"]}),t})()}];let f=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[l.Bz.forChild(m),l.Bz]}),t})(),v=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.ez,a.u5,o.Pc,f]}),t})()}}]);