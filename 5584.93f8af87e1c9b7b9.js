"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5584],{5584:(C,u,i)=>{i.r(u),i.d(u,{ForestingModule:()=>P});var m=i(4755),a=i(7151),g=i(5030),n=i(9523),h=i(6550),b=i(9287);let p=(()=>{class t{constructor(o,e){this.sanitizer=o,this.datalandService=e,this.mapNumber=1,this.selectedMaps="1"}ngOnInit(){this.datalandService.obtenerDatos().subscribe(o=>{this.lands=o,this.loadMap()}),this.loadGame()}loadMap(){this.mapUrl=this.sanitizer.bypassSecurityTrustResourceUrl(`https://play.pixels.xyz/pixels/share/${this.mapNumber}`)}loadGame(){this.gameUrl=this.sanitizer.bypassSecurityTrustResourceUrl("https://play.pixels.xyz")}nextMap(){do{this.mapNumber++}while(this.mapNumber<=5e3&&!this.isMapValid(this.mapNumber));this.mapNumber<=5e3?this.loadMap():this.mapNumber<=0?(this.mapNumber=5e3,this.loadMap()):(this.mapNumber=1,this.loadMap())}previousMap(){do{this.mapNumber--}while(this.mapNumber>=1&&!this.isMapValid(this.mapNumber));this.mapNumber>=1?this.loadMap():this.mapNumber>=5e3?(this.mapNumber=1,this.loadMap()):(this.mapNumber=5e3,this.loadMap())}agregarTala(){const c=`${(new Date).getTime()+261e5}`;this.datalandService.agregarInformacionTala(this.mapNumber,c).subscribe(l=>{console.log("Informaci\xf3n de tala agregada correctamente",l)},l=>{console.error("Error al agregar informaci\xf3n de tala",l)})}isMapValid(o){const e=this.lands.find(r=>r.numero===o);return e&&!0===e.foresting}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(h.H7),n.Y36(b.h))},t.\u0275cmp=n.Xpm({type:t,selectors:[["page-foresting"]],decls:23,vars:3,consts:[["slot","start"],[1,"floating-button",3,"click"],["name","arrow-back"],[1,"floating-input"],["name","hammer"],["type","number","placeholder","N\xfamero del mapa",3,"ngModel","ngModelChange"],["name","search"],["slot","end"],["name","arrow-forward"],[2,"height","100%"],[2,"height","40%"],["size","12"],["width","100%","height","100%","frameborder","0",3,"src"],[2,"height","60%"],["allow-same-origin","true","sandbox","allow-same-origin allow-scripts","width","100%","height","100%","frameborder","0",3,"src"]],template:function(o,e){1&o&&(n.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),n.NdJ("click",function(){return e.previousMap()}),n._UZ(4,"ion-icon",2),n.qZA()(),n.TgZ(5,"div",3)(6,"ion-item")(7,"ion-button",1),n.NdJ("click",function(){return e.agregarTala()}),n._UZ(8,"ion-icon",4),n.qZA(),n.TgZ(9,"ion-input",5),n.NdJ("ngModelChange",function(c){return e.mapNumber=c}),n.qZA(),n.TgZ(10,"ion-button",1),n.NdJ("click",function(){return e.loadMap()}),n._UZ(11,"ion-icon",6),n.qZA()()(),n.TgZ(12,"ion-buttons",7)(13,"ion-button",1),n.NdJ("click",function(){return e.nextMap()}),n._UZ(14,"ion-icon",8),n.qZA()()()(),n.TgZ(15,"ion-content")(16,"ion-grid",9)(17,"ion-row",10)(18,"ion-col",11),n._UZ(19,"iframe",12),n.qZA()(),n.TgZ(20,"ion-row",13)(21,"ion-col",11),n._UZ(22,"iframe",14),n.qZA()()()()),2&o&&(n.xp6(9),n.Q6J("ngModel",e.mapNumber),n.xp6(10),n.Q6J("src",e.mapUrl,n.uOi),n.xp6(3),n.Q6J("src",e.gameUrl,n.uOi))},dependencies:[g.JJ,g.On,a.YG,a.Sm,a.wI,a.W2,a.jY,a.Gu,a.gu,a.pK,a.Ie,a.Nd,a.sr,a.as],styles:["ion-toolbar[_ngcontent-%COMP%]{--background: transparent;--color: white;text-align:center;position:absolute;top:0;right:0;left:0}.floating-input[_ngcontent-%COMP%]{--background: transparent;align-items:center}.floating-input[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent;border-radius:10px;padding:5px}.floating-input[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--background: transparent;text-align:center;color:#fff;border:none;border-radius:10px}.floating-input[_ngcontent-%COMP%]   .floating-button[_ngcontent-%COMP%]{--background: transparent;border-radius:50%}ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%], ion-toolbar[_ngcontent-%COMP%]   ion-back-button[_ngcontent-%COMP%], ion-toolbar[_ngcontent-%COMP%]   ion-menu-button[_ngcontent-%COMP%]{--color: white}.about-header[_ngcontent-%COMP%]{position:relative;width:100%;height:30%}.about-header[_ngcontent-%COMP%]   .about-image[_ngcontent-%COMP%]{position:absolute;inset:0;transition:opacity .5s ease-in-out;background-repeat:no-repeat;background-position:center;background-size:cover;opacity:0}.about-header[_ngcontent-%COMP%]   .madison[_ngcontent-%COMP%]{background-image:url(/assets/img/about/madison.jpg)}.about-header[_ngcontent-%COMP%]   .austin[_ngcontent-%COMP%]{background-image:url(/assets/img/about/austin.jpg)}.about-header[_ngcontent-%COMP%]   .chicago[_ngcontent-%COMP%]{background-image:url(/assets/img/about/chicago.jpg)}.about-header[_ngcontent-%COMP%]   .seattle[_ngcontent-%COMP%]{background-image:url(/assets/img/about/seattle.jpg)}.about-info[_ngcontent-%COMP%]{position:relative;margin-top:-10px;border-radius:10px;background:var(--ion-background-color, #ffffff);z-index:2}.about-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.about-info[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding-top:0}.about-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-dark);line-height:130%}.about-info[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{-webkit-margin-end:32px;margin-inline-end:32px}#date-input-popover[_ngcontent-%COMP%]{--offset-y: -var(--ion-safe-area-bottom);--max-width: 90%;--width: 336px}.ios[_ngcontent-%COMP%]   .about-info[_ngcontent-%COMP%]{--ion-padding: 19px}.ios[_ngcontent-%COMP%]   .about-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700}"]}),t})();var d=i(6775);const M=[{path:"",component:p}];let f=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[d.Bz.forChild(M),d.Bz]}),t})(),P=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t,bootstrap:[p]}),t.\u0275inj=n.cJS({imports:[m.ez,g.u5,a.Pc,f]}),t})()}}]);